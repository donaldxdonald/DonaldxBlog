## 移动端尺寸

---

一般为375宽，667高，参考iPhone 6



## 路由相关

---

### 动态路由传值

定义动态路由时，可以添加props: true参数传递params，免去this.$router.params.id这么麻烦

``` javascript
//router/index.js
{
        path: '/categories/edit/:id',
        component: CategoryEdit,
        props: true
}
```



``` javascript
//project.vue
props: {
    id: {}
}
```



如果在中间件使用动态路由的话，比如

```javascript
app.use(/admin/api/rest/:resource, router)
```

那么在使用实例router的时候要加入参数

```javascript
const router = epxress.Router({
    mergeParams: true
})
```

这样之后使用router的时候就也能获取到resource了



## 名称转换

---

用inflection这个包，可以将将函数名变成类名

> npm i inflection

``` javascript
const modelName = require('inflection').classify(name)
```



## 统一做错误反馈

---

在express中直接绑定全局

```javascript
app.use(async (err, req, res, next) => {
    res.status(err.statusCode).send({
      message: err.message
    })
  })
```

之后每一次监控错误就用http-asset模块就好了



## 工具相关

---

### chrome

在开发者工具终端里可以使用$$()选择元素，类似jquery



## 移动端 100vh 问题

---

在移动端使用 100vh 时，发现在 Chrome、Safari 浏览器中，因为浏览器栏和一些导航栏、链接栏导致不一样的呈现：

你以为的 100vh === 视口高度

实际上 100vh === 视口高度 + 浏览器工具栏（地址栏等等）的高度

### 解决方案

安装 vh-check `npm install vh-check \--save`

```javascript
# main.js
import vhCheck from 'vh-check';
vhCheck('browser-address-bar');
```

定义一个 CSS Mixin

```scss
@mixin vh($height: 100vh) {
  height: $height;
  height: calc(#{$height} - var(--browser-address-bar, 0px));
}
```